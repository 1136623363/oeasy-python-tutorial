---
show: step

version: 1.0
enable_checker: true
---

# 列表 - 嵌套 embedded
## 回忆
- 这次我们了解了排序
- 排序是在原来的列表上做的
- 可以按照不同的方式排序
- 可以递增也可以逆序
- 排好序之后插入就更合理了
- 列表不但可以放字符还可以放字符串
- 可以混着放点浮点数啥的么？🤔

### 来试试

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230471457)

- 列表项可以是不同类型的东西

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230508598)

- 那这样可以进行赋值么
### 赋值

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230563086)

- 像正常列表一样
- 两个列表变量指向同一个heap堆空间的列表地址
- 我想要两个列表
- 虽然相同
- 但是是两个列表

### copy

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230673754)

- 使用copy可以获得一个浅拷贝
- 确实可以得到两个列表
- 虽然相同
- 但是是两个列表
- 列表可以做列表项么？

### 嵌套embedded
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230764789)

- 看起来是可以的
- l_people是一个列表
	- 里面有两个元素
	- 第一个指向l_oeasy的地址
	- 第二个指向l_o2z的地址
- 这个列表到底什么样？

### 索引嵌套元素

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210830-1630287240794)
- l_people有两个列表项
	- 第一个指向l_oeasy的地址
	- 第二个指向l_o2z的地址
- l_oeasy有三个列表项
	- "oeasy"
	- 2
	- 3.5
- 这个嵌套的列表l_people可以拷贝么？

### 浅拷贝

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231778001)

- l_people2 确实拷贝了 l_people 
- 但是l_people2[0]和l_people[0]指向同一个地址
- 他拷贝的只是地址
- 很浅
- 浅的问题是
	- l_people2[0]和l_people[0]指的是一个位置
	- 一概全改
- 所以叫做浅拷贝
- 有浅就有深
- 怎么让拷贝很深呢？

### 深拷贝 

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231994247)

- 就点第一个
- 他比较了=、浅拷贝、深拷贝
	- = 直接把地址给赋过去
	- 浅拷贝 把里面元素都拷贝出来 做成新的list 赋过去
		- 不过如果里面的元素是地址
		- 那就复制地址
	- 深拷贝
		- 彻底复制里面的东西

### 比较
![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630232036597)

### 具体操作

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630232261186)

- 有深有浅才有意思啊
- 不太明白也没事
- 以后还会遇到的吧
- 记住
- 要知深浅
- 退回来
- 可以试试append么？

### 添加

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630230908462)

- 可以添加列表项
- 目前的列表项都有一定的规律
- 很像以前做的序列化的东西
- 再试试删除

### 删除

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231020520)


- 删除成功
- 由于l_oeasy还指向他
- 所以这个列表地址的数据不会被回收
### 换一个删除

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231118686)

- 因为没有引用指向o3z的列表
- 所以就直接删除了
- 试试排序

### 排序

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231202369)

- 排序sort
- 翻转reverse
- 都是可以做的
- 运算可以做么
- 加法乘法之类的

### 运算

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231358942)

- 运算也是可以做的
- 但是指向的还都是那两个基础列表
- 为了清除起见
- 我们修正一下

### 更加明确

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231528806)

- 在此基础上

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630231596602)

- 但我想指向四个不同的人

### 深度拷贝 
- 四个不同的人
- 原来的俩人
- 再加上深度拷贝新得到的俩人

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630232490472)

- 如果想要四个全新的人呢？
### 更深度

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630232515299)

- 前俩是深度拷贝出来的人
- 后俩也是
- 目前的数据结构还比较明确
- 来看个更多层嵌套的

### list嵌套

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630241545363)

### 总结 
- 这次我们了解了列表的嵌套
- 列表项也可以是列表
- 可以无限嵌套下去
- 这列表仍然可以做列表能做的事情
	- 插入
	- 删除
	- 排序
	- 运算
- 不过赋值的时候注意有三种情况
	- = 复制地址
	- 浅拷贝 拷贝元素内容
	- 深拷贝 把地址里的东西都复制出来
- 这就是列表！
- python中到处都在用的列表list
- 但是我们经常要用的就是列表
- 还有什么好玩的么？🤔
- 下次再说👋