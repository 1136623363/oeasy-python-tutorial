---
show: step

version: 1.0
enable_checker: true
---

# 主控程序

## 回忆上次内容

- 上次强化了主控过程
	- 导入
	- 处理
	- 输出
- 了解了try的完全体
	- try
	- except
	- else
	- finally
- 发现导入部分
	- 可以再分为两个子模块
	- 一个输入a
	- 一个输入b
- 可以再拆分么？🤔

### 先备份
- 再继续之前
- 我们先把目前的内容备份起来
- 使用git进行版本控制

```
# 初始化
git init
#把目前apple文件夹下所有的都备份
git -add .
# 备份
git commit
```

- 提示需要用户名和邮箱

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629058116713)

### 完成备份
- 按提示录入邮箱和用户名

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629058162252)

- 对提交做注释

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629058247277)

### 查看版本

```
#查看提交版本的日志
git log
```

- 目前有一个提交commit

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629058322909)

### 开始修改

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629059329452)

- 把输入拆分为输入a、输入b
- 调整输入函数
- 并调整处理函数process.py、

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629059400180)

### 尝试运行

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629059458865)

- 试验成功！
- 但是这么写是有问题的！
- 因为它不符合禅意
- what？

### zen 禅
- Flat is better than nested.
- 扁平胜于嵌套

- 现在的控制结构:
- 中控main
	- 输入 input
		- 输入a inputa
		- 输入b inputb
	- 处理process
	- 输出outprint

- 结构太多出现了三层
- 我们应该更多使用扁平
- 两层就够
- 这不是教条
- 而是实际开发中的经验
- 你见过那种层层传递过程中的繁琐和损耗么？
- 回滚回去
- 还好做了版本控制

### 版本回滚
```
git add .
git commit
git log
git checkout 123455...
```

- 先把当前的这个提交了
- 然后再签出老的那个

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210816-1629060233816)

- 分支就不保存了
- 因为已经觉悟了
- 扁平胜于嵌套


## 总结
- 使用了版本控制git
	- 制作备份
	- 进行回滚
- 尝试了嵌套的控制结构
	- 层层控制
	- 不过非到不得以
	- 尽量不要太多层次的嵌套
	- 虽然这样从顶到底
	- 含义明确
- 但是扁平难道就不能含义明确么？
- 我可以做点什么，让程序更加明确呢？🤔
- 我们下次再说！👋